/**
 * Product
 */

.product {
    background: $bg-white;
    border: $border-width solid $border-gray;
    display: block;
    margin: $spacing-lg 0;
    padding: $spacing-lg;

    a,
    a:hover,
    a:focus,
    a:active {
        outline: none;
        text-decoration: none;
    }

    &__image {
        position: relative;
        border-bottom: $border-width solid $border-light;
        font-size: 0;
        height: 200px;
        margin-bottom: $spacing-lg;
        text-align: center;

        &:before {
            content: '';
            display: inline-block;
            height: 200px;
            vertical-align: middle;
            width: 1%;
        }

        img {
            display: inline-block;
            max-height: 100%;
            max-width: 99%;
            vertical-align: middle;
        }

        .discount {
            position: absolute;
            top: $spacing-sm;
            right: $spacing-sm;
            padding: $spacing-md;
            border-radius: $border-radius-lg;
            font-size: 1.1rem;
            color: $text-white;
            opacity: .9;
        }
    }

    &__name {
        color: $brand-primary;
        display: block;
        height: 55px;
        margin-bottom: $spacing-lg;
        overflow: hidden;
        @include typo($font-size-lg, $font-weight-normal, $font, $font-size-xxxl);

        @media screen and (max-width: $sm) {
            margin-bottom: 7px;
            @include typo($font-size-lg, $font-weight-normal, $font, 1.3rem);
            text-align: center;
        }
    }

    &__price {
        color: $text-black;
        display: block;
        height: 35px;
        position: relative;
        z-index: $z-index-base;
        @include typo($font-size-lg, $font-weight-bold, $font, $font-size-xxxl);

        @media screen and (max-width: $sm) {
            @include typo($font-size-sm, $font-weight-bold, $font, 1.3rem);
            text-align: center;
        }

        .price {
            color: $text-black;
            font-size: $font-size-display-sm;
            font-weight: $font-weight-normal;
            left: 0;
            position: absolute;
            text-decoration: line-through;
            top: -18px;
        }

        .price-various {
            display: none;
        }

        .price-before {
            font-size: $font-size-lg;
            color: $border-dark;
            font-weight: $font-weight-normal;

            &.strike { 
                text-decoration: line-through; 
            }
        }
    }

    .pricing {
        text-align: center;
        font-size: $font-size-lg;
        padding: 5%;
        color: $text-muted;
    }

    &__discount-tag {
        background: $brand-primary;
        text-align: center;
        border-radius: 2px;
        padding: 10px 10px; 
        border: none;
        font-weight: 600;
        color: #fff;
        margin-bottom: 2px;
    }

    &__discount-desc {
        background: #626262;
        text-align: center;
        border-radius: 2px;
        padding: 10px 10px; 
        border: none;
        font-weight: 600;
        color: #fff;
        margin-bottom: 26px;
    } 

    &__payment {
        color: #000;
        display: block;
        height: auto;
        overflow: hidden;
        @include typo(1.2rem, 400, $font, 1.4rem);

        @media screen and (max-width: $sm) {
            margin-bottom: 7px;
            text-align: center;
        }

        > br:first-child {
            display: none;
        }

        span,
        strong {
            color: #000;
            @include typo(1.2rem, 400, $font, 1.4rem);

            @media screen and (max-width: $sm) {
                @include typo(1rem, 400, $font, 1rem);
            }
        }
    }
}

// Legacy selectors for backward compatibility
// TODO: Remove after HTML is updated
.product-image {
    @extend .product__image;
}

.product-name {
    @extend .product__name;
}

.product-price {
    @extend .product__price;
}

.product-payment {
    @extend .product__payment;
}

.product-discount-recursive-tag {
    @extend .product__discount-tag;
}

.product-discount-recursive-desc {
    @extend .product__discount-desc;
}